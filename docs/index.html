<!DOCTYPE html>
<html lang="en">
<head>
    
    <meta charset="utf-8">
    <title>Home - Documentation</title>
    
    
    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc.css">
    <script src="scripts/nav.js" defer></script>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav >
    
    <input type="text" id="nav-search" placeholder="Search" />
    
    <h2><a href="index.html">Home</a></h2><h2><a href="https://github.com/paychex/bloodhound-promises" target="_blank" class="menu-item" id="repository" >Source Code</a></h2><h3>Classes</h3><ul><li><a href="BloodhoundPromise.html">BloodhoundPromise</a><ul class='methods'><li data-type='method'><a href="BloodhoundPromise.html#.all">all</a></li><li data-type='method'><a href="BloodhoundPromise.html#.any">any</a></li><li data-type='method'><a href="BloodhoundPromise.html#.apply">apply</a></li><li data-type='method'><a href="BloodhoundPromise.html#.call">call</a></li><li data-type='method'><a href="BloodhoundPromise.html#.cast">cast</a></li><li data-type='method'><a href="BloodhoundPromise.html#.defer">defer</a></li><li data-type='method'><a href="BloodhoundPromise.html#.delay">delay</a></li><li data-type='method'><a href="BloodhoundPromise.html#.isPromise">isPromise</a></li><li data-type='method'><a href="BloodhoundPromise.html#.race">race</a></li><li data-type='method'><a href="BloodhoundPromise.html#.reject">reject</a></li><li data-type='method'><a href="BloodhoundPromise.html#.resolve">resolve</a></li><li data-type='method'><a href="BloodhoundPromise.html#.settle">settle</a></li><li data-type='method'><a href="BloodhoundPromise.html#.some">some</a></li><li data-type='method'><a href="BloodhoundPromise.html#.timeout">timeout</a></li><li data-type='method'><a href="BloodhoundPromise.html#.unwrap">unwrap</a></li><li data-type='method'><a href="BloodhoundPromise.html#catch">catch</a></li><li data-type='method'><a href="BloodhoundPromise.html#done">done</a></li><li data-type='method'><a href="BloodhoundPromise.html#finally">finally</a></li><li data-type='method'><a href="BloodhoundPromise.html#isRejected">isRejected</a></li><li data-type='method'><a href="BloodhoundPromise.html#isResolved">isResolved</a></li><li data-type='method'><a href="BloodhoundPromise.html#isSettled">isSettled</a></li><li data-type='method'><a href="BloodhoundPromise.html#notify">notify</a></li><li data-type='method'><a href="BloodhoundPromise.html#spread">spread</a></li><li data-type='method'><a href="BloodhoundPromise.html#tap">tap</a></li><li data-type='method'><a href="BloodhoundPromise.html#then">then</a></li><li data-type='method'><a href="BloodhoundPromise.html#timeout">timeout</a></li><li data-type='method'><a href="BloodhoundPromise.html#unwrap">unwrap</a></li><li data-type='method'><a href="BloodhoundPromise.html#value">value</a></li></ul></li></ul><h3>Modules</h3><ul><li><a href="module-index.html">index</a></li></ul><h3><a href="global.html">Global</a></h3>
</nav>

<div id="main">
    

    



    


    <section class="package">
        <h3> </h3>		
    </section>









    



    <section class="readme">
        <article><h1>bloodhound-promises</h1>
<p>Promises with extra features.</p>
<h2>Installation</h2>
<pre class="prettyprint source lang-bash"><code>npm install bloodhound-promises
</code></pre>
<h3>Additional Commands</h3>
<h4>run unit tests</h4>
<pre class="prettyprint source lang-bash"><code>npm test
</code></pre>
<h4>verify against the Promise/A+ specification test suite</h4>
<pre class="prettyprint source lang-bash"><code>npm run verify
</code></pre>
<h4>generate documentation in the <code>docs/</code> folder</h4>
<pre class="prettyprint source lang-bash"><code>npm run docs
</code></pre>
<h4>generate UMD bundle in the <code>dist/</code> folder</h4>
<pre class="prettyprint source lang-bash"><code>npm run build
</code></pre>
<h2>Why Promises</h2>
<p>Promises are fantastic. They encapsulate a long-running operation into a simple object that invokes callbacks based on the operation's success or failure.</p>
<h2>Why Bloodhound</h2>
<p>Bloodhound wraps (but will not modify) your favorite Promise implementation. This means you can continue to use the Promise library you like best, but now with extra syntactic sugar that makes writing Promise code a bit easier.</p>
<p>Here are some benefits of using Bloodhound:</p>
<h3>Scheduling</h3>
<p>Because Bloodhound uses the wrapped Promise's own microtask scheduler, you never have to worry about timing issues between Bloodhound and your chose Promise implementation.</p>
<p>For example:</p>
<pre class="prettyprint source lang-javascript"><code>import asBloodhound from 'bloodhound-promises';

const unmodified = Promise.resolve();
const bloodhound = asBloodhound(Promise).resolve();

unmodified.then(() => console.log('called 1'));
bloodhound.then(() => console.log('called 2')); // our callback
unmodified.then(() => console.log('called 3'));
</code></pre>
<p>Output:</p>
<pre class="prettyprint source lang-bash"><code>> &quot;called 1&quot;
> &quot;called 2&quot;
> &quot;called 3&quot;
</code></pre>
<h3>Original Promise Unmodified</h3>
<p>Bloodhound doesn't modify the Promise implementation it wraps. This ensures that your legacy and 3rd-party code remains unaffected. You can also get access to a new instance of your original promise at any time by calling <code>unwrap()</code>.</p>
<h3>Explicit Promise Chains</h3>
<p>Promise implementations have no deterministic way to know when a promise chain has ended. This makes it impossible to know when to announce an unhandled rejection. Bloodhound adds a special chain terminator method called <code>done()</code> that indicates the promise chain has ended and it is safe to announce any unhandled rejections.</p>
<p>Basically, the golden rule of promises is:</p>
<blockquote>
<p>If you don't return the promise, you must call done().</p>
</blockquote>
<p>Calling <code>done()</code> is what tells Bloodhound to throw any unhandled rejections so you
know if there is an error in your application. Without this feature, your app could end up in an inconsistent state.</p>
<p>Let's look at an example:</p>
<pre class="prettyprint source lang-javascript"><code>import asBloodhound from 'bloodhound-promises';

const BloodhoundPromise = asBloodhound(Promise);

function getUserData(userId) {
    return new BloodhoundPromise(function(resolve, reject) {
        // do real stuff here and
        // call resolve(...) when done
    });
}

function getFeatureSwitches() {
    return new BloodhoundPromise(function(resolve, reject) {
        // do real stuff here and
        // call resolve(...) when done
    });
}

BloodhoundPromise.all([
    getUserData(),
    getFeatureSwitches()
]).done();
</code></pre>
<p>What does the code do? Both <code>loadMessages</code> and <code>loadAppData</code> return a promise that will resolve once their data calls complete. Because the promises are being returned, we do not call <code>done()</code> -- after all, we need these promises for our call to <code>BloodhoundPromise.all</code>, so we can't end the chain just yet.</p>
<p>Then, we wrap our promises in a call to <code>BloodhoundPromise.all</code>, a static method that returns a promise which is only resolved if all child promises resolve.</p>
<p>Finally, we call <code>done()</code>, which waits until the promise is either resolved or rejected to check for unhandled exceptions. If one of our data calls failed, an error will be thrown at this point. Otherwise, the error might be swallowed.</p>
<h3>Easy Configuration</h3>
<p>Bloodhound is configurable.</p>
<h4>custom handler for any unhandled rejections</h4>
<p>When <code>done()</code> is called on a rejected promise, Bloodhound's default behavior is to throw that rejection reason in a new stack frame. You can change this behavior:</p>
<pre class="prettyprint source lang-javascript"><code>BloodhoundPromise.config.setErrorHandler(function handler(reason) {
    myTrackingLibrary.logError(reason);
});
</code></pre>
<h4>callback for asynchronous operations</h4>
<p>Sometimes you want to know that an asynchronous operation has occurred so you can perform change detection. Frameworks like AngularJS need this information to ensure that bindings are updated correctly.</p>
<pre class="prettyprint source lang-javascript"><code>angular.module('myapp', ['ng'])
    .run(['$rootScope', function checkForChanges($rootScope) {
        function checkChanges() {
            $rootScope.$applyAsync();
        }
        BloodhoundPromise.config.setAsyncNotifier(checkChanges);
    }]);
</code></pre>
<h3>Promise Interop</h3>
<p>Bloodhound works with any Promise implementation.</p>
<pre class="prettyprint source lang-javascript"><code>import Q from 'q';
import when from 'when';
import * as Bluebird from &quot;bluebird&quot;;
import asBloodhound from 'bloodhound-promises';

const BloodhoundPromise = asBloodhound(Promise);

BloodhoundPromise.resolve('xyz')
    .then(() => Q('abc'))
    .then(() => when.resolve('def'))
    .then(() => Bluebird.resolve('ghi'))
    .then(console.log); // 'ghi'
</code></pre>
<h2>Copyright</h2>
<p>Copyright (c) 2019 Paychex, Inc.</p></article>
    </section>






    
    
</div>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.6.3</a> on Tue Oct 22 2019 13:10:33 GMT-0400 (Eastern Daylight Time) using the <a href="https://github.com/clenemt/docdash">docdash</a> theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/polyfill.js"></script>
<script src="scripts/linenumber.js"></script>

<script src="scripts/search.js" defer></script>



</body>
</html>